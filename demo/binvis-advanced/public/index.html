<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#00121a"> <!-- Colored Chrome Mobile Tabs! -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <title>Mio Utils</title>
    <link rel="stylesheet" type="text/css" href="main.css">
    <script>
        function toggleDark() {
            const elem = document.body;
            let state = elem.getAttribute("dark");
            if (state === null) {
                elem.setAttribute("dark", "");
            } else {
                elem.removeAttribute("dark");
            }
        }
    </script>
    <style>
        #block_table td[index]:hover {
            background-color: #2682A6CC;
            color: #fff;
        }

        #block_table td.selected {
            background-color: #2682A633;
            color: #fff;
        }
    </style>
</head>
<body dark>
    <div class="title-banner bg-gradient-a1-a2 fg-dark-color">
        <div class="container text-center">
            <h1>Binary Vis Demo</h1>
            <hr>
            <p>A demo of Mio-utils</p>
            <input type="file" id="file_input">
        </div>
    </div>
    <div class="container">
        <h2 class="accent-2 hbar">Warioware D.I.Y. Save File Demo</h2>
        <p>This is a demonstration application that can be used to view the contents of a warioware DIY / Made In Ore microgame. While the underlying library, <a href="https://github.com/mboleary/mio-utils">mio-utils</a> supports viewing and editing the metadata of the microgames, the primary purpose of this demo is to display the graphics stored within the game save file</p>

        <div class="form">
            <div class="app-bar flex-layout horizontal">
                <div class="flex-layout vertical center">
                    <h2> Rendering Options </h2>
                </div>
            </div>
            <div class="body">
                <fieldset class="flex-layout vertical">
                    <label> Start Byte: </label>
                    <input type="number" value="0" min="0" id="bin_start">
                    <p><small>A block is 32 bytes long</small></p>
                </fieldset>
                <fieldset class="flex-layout vertical">
                    <label> Range: </label>
                    <input type="number" value="-1" min="-1" id="bin_range">
                    <p><small>Using a value of -1 will show as much of the file as possible</small></p>
                </fieldset>
                <fieldset class="flex-layout vertical">
                    <label> Scale: </label>
                    <input type="number" value="4" id="scale">
                </fieldset>
        
                <fieldset class="flex-layout vertical">
                    <label> Canvas Width: </label>
                    <input type="number" value="1024" id="canvas_width">
                </fieldset>
                <fieldset class="flex-layout vertical">
                    <label> Canvas Height: </label>
                    <input type="number" value="1024" id="canvas_height">
                </fieldset>
                <fieldset class="flex-layout vertical">
                    <label> Bitmap Width: </label>
                    <input type="number" value="256" id="bitmap_width">
                </fieldset>
                <fieldset class="flex-layout vertical">
                    <label> Bitmap Height: </label>
                    <input type="number" value="256" id="bitmap_height">
                </fieldset>
                <fieldset class="flex-layout vertical">
                    <label> <input type="checkbox" checked="true" id="enable_grid">Enable Grid </label>
                </fieldset>
                <hr>
                <button type="button" id="refresh_canvas">Refresh Canvas</button>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="flex-layout horizontal">
            <button type="button" disabled id="page_back" class="tertiary accent-2">&lt; Page Back</button>
            <span id="page_index" class="flex"></span>
            <button type="button" disabled id="page_next" class="tertiary accent-2">Page Next &gt;</button>
        </div>
        <div class="height-10"></div>
        <canvas id="canvas" width="1024" height="1024"></canvas>
        <p>Position(<span id="pos_block"></span>) Bytes(<span id="pos_byte"></span>)</p>
    </div>
    <hr>
    <div class="container">
        <table id="block_table"></table>
    </div>
    <div class="container">
        <hr>
        <button onclick="toggleDark()">Toggle Dark mode</button>
    </div>
    <div class="height-20"></div>
</body>

</html>